<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="Content-Security-Policy" content="default-src * data:; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
  <script src="components/loader.js"></script>
  <script src="lib/onsenui/js/onsenui.min.js"></script>

  <link rel="stylesheet" href="components/loader.css">
  <link rel="stylesheet" href="lib/onsenui/css/onsenui.css">
  <link rel="stylesheet" href="theme/onsen-css-components.css">
  <link rel="stylesheet" href="css/style.css">

  <script src="jquery-mobile/jquery-1.11.1.min.js"></script>
  <!-- script src="jquery-mobile/jquery.mobile-1.4.5.min.js"></script -->

</head>

<body>


<!-- side menu -->

<ons-splitter>
  <ons-splitter-side id="menu" side="right" width="220px" collapse>
    <ons-page>
      <ons-list>
      <div align="right"> <!-- text onclick="fn.close()" class="largefont"> x </text -->
        <ons-icon icon="ion-close" onclick="fn.close()" size="24px, material:20px"></ons-icon>
      </div>

      <h3 align="center"> Menu </h3>
        <ons-list-item onclick="profileloader()" tappable>
          Profile
        </ons-list-item>
        <!-- ons-list-item onclick="fn.load('login.html')" tappable>
          Login
        </ons-list-item -->
        <ons-list-item onclick="planloader()" tappable>
          Exercise Plan
        </ons-list-item>
        <ons-list-item onclick="timelineloader()" tappable>
          Timeline
        </ons-list-item>
        <ons-list-item onclick="logout()" tappable>
          Log out
        </ons-list-item>
      </ons-list>
    </ons-page>
  </ons-splitter-side>

<ons-splitter-content id="content" page="homePage.html"></ons-splitter-content>

</ons-splitter>

<ons-template id="homePage.html">
  <ons-page id="homePage">
  <ons-navigator id="myNavigator" page="profile.html"></ons-navigator>
  </ons-page>
</ons-template>

<!-- end of side menu -->


<!-- login page -->

<ons-template id="login.html">
  <ons-page id="login">
    
    <ons-toolbar>
      <div class="center"> LOGIN </div>
    </ons-toolbar>
    
    <div style="text-align: center;">
      <br><br>
        <img src="img/logo2.png" height="200px" width="200px">
      <br> <br> <br>
        <ons-input id="login_username" modifier="underbar" placeholder="Username" float required class="input" font-> </ons-input>
          <br>
        <ons-input id="login_password" modifier="underbar" type="password" placeholder="Password" float required class="input"></ons-input>
          <br>
        <ons-button onclick="login()" class="inputbtn"> Sign in </ons-button>
        <p onclick="fn.load('signup.html')"> Create New Account </p>
    </div>
  
  </ons-page>
</ons-template>

<!-- end of login page -->

<!-- signup page -->

<ons-template id="signup.html">
  <ons-page id="signup">
    
    <ons-toolbar>
      <div class="center"> SIGN UP </div>
      <div class="left"><ons-back-button onclick="fn.load('login.html')">Back</ons-back-button></div>
    </ons-toolbar>
    
    <div style="text-align: center;">
      <br><br>
        <img src="img/logo2.png" height="200px" width="200px">
      <br> <br>
        <ons-input id="signup_username" modifier="underbar" placeholder="Username" float required class="input"> </ons-input>
          <br>
        <ons-input id="signup_password" modifier="underbar" type="password" placeholder="Password" float required class="input"></ons-input>
          <br>
        <ons-button onclick="signup()" class="inputbtn" id="signupbtn"> Sign Up </ons-button>
    </div>
  
  </ons-page>
</ons-template>

<!-- end of signup page -->

<!-- due date calculator page -->

<ons-template id="duedatecalc.html">
  <ons-page id="duedatecalc">
    <ons-toolbar>
    </ons-toolbar>
    <div align="center">
    <h2> Welcome to FitMama!</h2>
    <p> Calculate your current week of pregnancy. <br> <br>
    Enter your due date: </p>
    <input type="date" class="datepicker" id="duedate"> </input>
    <br><br> or <br>
    <p> Enter your last menstrual period date: </p>
    <input type="date" class="datepicker" id="lmp_date"> </input>
    <br><br>
    <ons-button class="inputbtn" onclick="calcCurrentWeek()"> Submit </ons-button>
    </div>
  </ons-page>
</ons-template>

<!-- end of due date calculator page -->

<!-- profile page -->

<ons-template id="profile.html">
  <ons-page id="profile">
    
    <ons-toolbar>
      <div class="right">
        <ons-toolbar-button onclick="fn.open()">
          <ons-icon icon="md-menu"></ons-icon>
        </ons-toolbar-button>
      </div>
      <div class="center"> PROFILE </div>
    </ons-toolbar>

    <div align="center">
    &nbsp;
      <table>
      <tr>
      <td>
      <label for="changephoto">
      <input id="changephoto" type="file" style="display: none;" onchange="previewFile()">
      <img src="#" id="profilepic" height="100px" width="100px" class="img-circle">
      </label>
      </td>
      <td>&nbsp;</td>
      <td>
      <div align="right">
       <ons-icon icon="md-edit" onclick="showDialog('editprofile_form')"></ons-icon> </text>
      </div>
      <text class="largefont" id="current_user"> </text><br>
      <text class="smallfont"> You are currently <text id="weeks"></text> weeks pregnant </text>
      </td>
      </tr>
      </table>
      &nbsp;
    </div>
    
    <ons-dialog id="editprofilepic">
      
      <img src="#" id="profilepic" height="100px" width="100px" class="img-circle">

        <div align="right">
        <ons-button class="button button--material--flat" onclick="editimg()"> OK </ons-button> 
        <ons-button class="button button--material--flat" onclick="hideDialog('editprofile_form')"> CANCEL </ons-button>
        </div>

      </div>

    </ons-dialog>
      

    <ons-dialog id="editprofile_form">
      <div style="padding: 10px;" align="center">
        <br>
        <ons-input type="text" modifier="underbar" class="input" id="firstname" placeholder="First name"></ons-input>
        <ons-input type="text" modifier="underbar" class="input" id="lastname" placeholder="Last name"></ons-input>
        <!--ons-input type="text" modifier="underbar" class="input" id="username"></ons-input>
        <ons-input type="text" modifier="underbar" class="input" id="duedate"></ons-input-->
        <div align="right">
        <ons-button class="button button--material--flat" onclick="editprofile()"> OK </ons-button> 
        <ons-button class="button button--material--flat" onclick="hideDialog('editprofile_form')"> CANCEL </ons-button>
        </div>
      </div>
    </ons-dialog>




    <div class="tab-bar tab-bar--top tab-bar--top-border">
      <label class="tab-bar__item tab-bar--top-border__item">
        <input type="radio" name="top-tab-bar-b" checked="checked">
        <button class="tab-bar__button tab-bar--top-border__button">
          Overall
        </button>
      </label>

      <label class="tab-bar__item tab-bar--top-border__item">
        <input type="radio" name="top-tab-bar-b">
        <button class="tab-bar__button tab-bar--top-border__button">
          Today
        </button>
      </label>

      <label class="tab-bar__item tab-bar--top-border__item">
        <input type="radio" name="top-tab-bar-b">
        <button class="tab-bar__button tab-bar--top-border__button">
          This Week
        </button>
      </label>

      <label class="tab-bar__item tab-bar--top-border__item">
        <input type="radio" name="top-tab-bar-b">
        <button class="tab-bar__button tab-bar--top-border__button">
          Past
        </button>
      </label>
    </div>

    <ons-list>
    <ons-list-item> <p> Average duration </p> </ons-list-item>
    <ons-list-item> <p> Total sessions </p> </ons-list-item>
    <ons-list-item> <p> Total time working out </p> </ons-list-item>
    <ons-list-item> <p> Total calories burned </p> </ons-list-item>
    </ons-list>
      
  </ons-page>
</ons-template>

<!-- end of profile page -->

<!-- plan page -->

<ons-template id="plan.html">
  <ons-page id="plan">
    <ons-toolbar>
      <div class="right">
        <ons-toolbar-button onclick="fn.open()">
          <ons-icon icon="md-menu"></ons-icon>
        </ons-toolbar-button>
      </div>
      <div class="center">
        EXERCISE PLAN
      </div>
    </ons-toolbar>

    <div align="center">
    <text id="current_user" hidden="hidden"></text>
    <img src="#" id="profilepic" class="img-circle" hidden="hidden">
    <br><br>
    <text class="customheader2">WEEK <text id="weeks"></text></text>
    <br><br>
    
    <ul class="list list--material" id="todolist"> </ul>

    <ons-dialog id="addform">
      <div style="padding: 10px;">
        <br>
        <textarea class="textarea" rows="5" placeholder="Activity desciption" id="new_activity"></textarea>
        <div align="right">
        <ons-button class="button button--material--flat" onclick="addactivity()"> OK </ons-button> 
        <ons-button class="button button--material--flat" onclick="hideDialog('addform')"> CANCEL </ons-button>
        </div>
      </div>
    </ons-dialog>

    <ons-fab position="bottom right">
      <ons-icon icon="md-plus" onclick="showDialog('addform')"></ons-icon>
    </ons-fab>
    
    </div>
  </ons-page>
</ons-template>

<!-- end of plan page -->

<!-- timeline page -->

<ons-template id="timeline.html">
  <ons-page id="timeline">
    <ons-toolbar>
      <div class="right">
        <ons-toolbar-button onclick="fn.open()">
          <ons-icon icon="md-menu"></ons-icon>
        </ons-toolbar-button>
      </div>
      <div class="center">
        TIMELINE
      </div>
    </ons-toolbar>
    
    <div align="center">
      <br><br><br>
      <text id="current_user" hidden="hidden"></text>
      <text>You are currently</text>
      <br>
      <text class="customheader"> <text id="weeks" style="font-size: 50px"></text> weeks </text>
      <text class="smallfont"> pregnant </text>
      <br> <br>

      <div class="card">
        <h4> BABY INFO </h4>
        <div align="justify">
        <text id="babyinfo">
        </text>
        </div>
      </div>
      
    </div>
  
  </ons-page>
</ons-template>

<!-- end of timeline page -->

<script type="text/javascript" src="javascripts/controllers.js"></script>
<script type="text/javascript" src="javascripts/db.js"></script>
<script type="text/javascript" src="javascripts/data.js"></script>

<script>
  
  function previewFile(){
       var preview = document.querySelector('img'); //selects the query named img
       var file    = document.querySelector('input[type=file]').files[0]; //sames as here
       var reader  = new FileReader();

       reader.onloadend = function () {
           preview.src = reader.result;
       }

       if (file) {
           reader.readAsDataURL(file); //reads the data as a URL
       } else {
           preview.src = "";
       }
  }

  previewFile();  //calls the function named previewFile()

</script>

</body>
</html>
